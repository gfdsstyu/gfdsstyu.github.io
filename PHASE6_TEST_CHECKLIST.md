# Phase 6.1-6.3 수동 테스트 체크리스트

**작성일**: 2025-11-08
**테스트 대상**: Phase 6.1 (UI 함수), Phase 6.2 (날짜 변수), Phase 6.3 (순환 의존성)

---

## ✅ 정적 검증 결과 (자동 완료)

### Phase 6.1: 저리스크 UI 함수
- ✅ `showToast` import 확인 (3개 파일)
- ✅ `closeReportModal` import 확인
- ✅ `openApiModal` import 확인 (2개 파일)
- ✅ `closeDrawer` import 확인

### Phase 6.2: 날짜 변수
- ✅ `getStatsRefDate`, `setStatsRefDate` export 확인
- ✅ `getCalRefDate`, `setCalRefDate` export 확인
- ✅ calendarCore에 import 추가 확인
- ✅ `window.statsRefDate`, `window.calRefDate` 제거 확인 (0개 남음)

### Phase 6.3: 순환 의존성
- ✅ EventBus 모듈 생성 확인 (js/core/eventBus.js)
- ✅ `getFilteredByUI` 직접 import 확인 (quizCore)
- ✅ `eventBus.on('quiz:reload')` 등록 확인
- ✅ `eventBus.emit('quiz:reload')` 호출 5개 확인
- ✅ `window.getFilteredByUI` 제거 확인 (0개 남음)
- ✅ `window.reloadAndRefresh` 제거 확인 (filterCore에서 0개 남음)

---

## 🧪 브라우저 수동 테스트 체크리스트

### 1. 기본 기능 테스트

#### 1.1 퀴즈 로드 및 표시
- [ ] 페이지 로드 시 문제가 정상적으로 표시됨
- [ ] 콘솔에 에러 없음
- [ ] "문제 데이터 로드 완료" 메시지 확인

#### 1.2 필터 기능 (Phase 6.3 - EventBus)
- [ ] **단원 선택** → 문제가 필터링되어 표시됨
- [ ] **필터 선택** (안푼문제/전체) → 문제가 변경됨
- [ ] **퀴즈 불러오기** 버튼 → 문제가 리로드됨
- [ ] **출처 필터** (기본/심화/기타) → 문제가 필터링됨
- [ ] 콘솔에 `🎧 EventBus: quiz:reload 이벤트 수신` 메시지 확인

---

### 2. Phase 6.1 테스트: UI 함수

#### 2.1 showToast (15회 사용)
- [ ] API 키 저장 → "API 키 저장 완료" 토스트 표시
- [ ] AI 모델 변경 → "AI 모델 변경: ..." 토스트 표시
- [ ] 다크 모드 변경 → "다크 모드 설정 변경됨" 토스트 표시
- [ ] 시험 날짜 저장 → "시험 날짜가 저장되었습니다" 토스트 표시
- [ ] 리포트 저장 → "AI 분석 및 액션 플랜이 저장되었습니다" 토스트 표시
- [ ] 리포트 불러오기 성공 → "학습 분석 불러오기 완료" 토스트 표시
- [ ] 리포트 불러오기 실패 → "올바른 학습 분석 파일이 아닙니다" 에러 토스트
- [ ] AI 분석 시작 (API 키 없음) → "Gemini API 키를 입력해주세요" 에러 토스트
- [ ] AI 분석 (데이터 없음) → "분석할 오답 데이터가 없습니다" 경고 토스트
- [ ] AI 분석 실패 → "AI 분석 실패: ..." 에러 토스트
- [ ] AI 분석 복사 성공 → "분석 내용을 클립보드에 복사했습니다" 토스트
- [ ] AI 분석 복사 실패 → "복사 실패" 에러 토스트

#### 2.2 closeDrawer (1회)
- [ ] 모바일에서 햄버거 메뉴 열기
- [ ] 리포트 모달 열기 → 햄버거 메뉴 자동 닫힘 확인

#### 2.3 closeReportModal (2회)
- [ ] 리포트 모달 열기
- [ ] ESC 키 누르기 → 리포트 모달 닫힘
- [ ] 설정 모달이 열려 있을 때 ESC 우선순위 확인

#### 2.4 openApiModal (4회)
- [ ] 채점 버튼 클릭 (API 키 없음) → API 키 모달 열림
- [ ] 힌트 버튼 클릭 (API 키 없음) → API 키 모달 열림
- [ ] AI 분석 시작 (API 키 없음) → API 키 모달 열림

---

### 3. Phase 6.2 테스트: 날짜 변수

#### 3.1 통계 날짜 네비게이션 (statsRefDate)
- [ ] 통계 페이지에서 **이전 날** 버튼 → 날짜 변경 확인
- [ ] 통계 페이지에서 **다음 날** 버튼 → 날짜 변경 확인
- [ ] 통계 페이지에서 **오늘** 버튼 → 오늘 날짜로 변경
- [ ] 통계 페이지에서 날짜 input 변경 → 통계 업데이트
- [ ] 캘린더에서 날짜 클릭 → 통계 날짜 변경, "YYYY-MM-DD 통계로 이동" 토스트 표시
- [ ] 페이지 새로고침 → 선택한 날짜 유지됨 (localStorage)

#### 3.2 캘린더 월 네비게이션 (calRefDate)
- [ ] 캘린더 **이전 월** 버튼 → 월 변경 확인
- [ ] 캘린더 **다음 월** 버튼 → 월 변경 확인
- [ ] 캘린더 제목에 올바른 연.월 표시 확인 (예: 2025.11)
- [ ] 히트맵 셀이 올바른 날짜 범위 표시

---

### 4. Phase 6.3 테스트: 순환 의존성 해결

#### 4.1 EventBus 초기화
- [ ] 페이지 로드 시 콘솔에 "✅ Quiz EventBus 리스너 초기화 완료" 메시지
- [ ] 콘솔에 EventBus 관련 에러 없음

#### 4.2 필터 변경 시 EventBus 통신
- [ ] 단원 선택 변경 → 콘솔에 "🎧 EventBus: quiz:reload 이벤트 수신" 메시지
- [ ] 필터 선택 변경 → 동일한 EventBus 메시지 확인
- [ ] 퀴즈 불러오기 버튼 → 동일한 EventBus 메시지 확인
- [ ] 출처 필터 변경 → 동일한 EventBus 메시지 확인
- [ ] 모든 필터 해제 버튼 → 동일한 EventBus 메시지 확인

#### 4.3 getFilteredByUI 직접 호출
- [ ] 랜덤 퀴즈 시작 → 필터링된 문제 표시됨
- [ ] 퀴즈 리로드 → 필터링된 문제 표시됨
- [ ] 콘솔에 "🔍 필터링된 데이터 길이: X" 메시지 확인

---

### 5. 통합 테스트

#### 5.1 전체 워크플로우
- [ ] 페이지 로드 → 문제 표시
- [ ] 단원 선택 → 문제 필터링
- [ ] 채점 (API 키 필요) → 결과 표시
- [ ] 다음 문제 → 이동 성공
- [ ] 설정 변경 (다크모드) → 토스트 표시
- [ ] 캘린더 월 변경 → 히트맵 업데이트
- [ ] 통계 날짜 변경 → 통계 업데이트
- [ ] 리포트 모달 열기/닫기 → 정상 작동

#### 5.2 에러 처리
- [ ] 네트워크 오류 시 적절한 에러 메시지
- [ ] API 키 없을 때 모달 표시
- [ ] 데이터 없을 때 적절한 경고 메시지

---

## 🔍 성능 및 안정성 검증

### 6.1 콘솔 에러 확인
- [ ] 페이지 로드 시 JavaScript 에러 없음
- [ ] 모든 기능 사용 시 에러 없음
- [ ] 네트워크 탭에서 404 에러 없음

### 6.2 메모리 누수 확인
- [ ] EventBus 리스너가 중복 등록되지 않음
- [ ] 필터 변경을 10회 반복 → 메모리 사용량 안정적

---

## 📊 테스트 결과 요약

### 전체 테스트 항목
- **Phase 6.1**: 12개 항목
- **Phase 6.2**: 10개 항목
- **Phase 6.3**: 9개 항목
- **통합 테스트**: 10개 항목
- **성능 검증**: 3개 항목
- **총계**: 44개 항목

### 성공 기준
- ✅ 모든 정적 검증 통과 (자동 완료)
- ✅ 최소 40개 이상 수동 테스트 통과 (90% 이상)
- ✅ 치명적 에러 0개
- ✅ 기능 회귀 0개

---

## 🚨 알려진 이슈 (있을 경우)

*테스트 과정에서 발견된 이슈를 여기에 기록*

---

## 📝 테스트 완료 체크

- [ ] 정적 검증 완료 (자동)
- [ ] 브라우저 수동 테스트 완료
- [ ] 모바일 브라우저 테스트 완료 (선택)
- [ ] 성능 검증 완료
- [ ] 테스트 결과 문서화

**테스트 담당자**: _____________________
**테스트 완료일**: _____________________
**승인**: _____________________
